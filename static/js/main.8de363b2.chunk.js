(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{13:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__dhfud",box:"ImageGallery_box__2lbB3"}},16:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__2LGl5",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__Yn_je"}},17:function(e,t,a){e.exports={Button:"Button_Button__3goPl",box:"Button_box__2hX50"}},18:function(e,t,a){e.exports={Overlay:"Modal_Overlay__3JjPt",Modal:"Modal_Modal__31K1u"}},31:function(e,t,a){e.exports={box:"Loader_box__1oEnv"}},39:function(e,t,a){},6:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__3k1Kc",SearchForm:"Searchbar_SearchForm__1_Udv",SearchFormButton:"Searchbar_SearchFormButton__I_yno",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__34l3-",SearchFormInput:"Searchbar_SearchFormInput__2tO5d"}},82:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),o=a.n(c),s=(a(39),a(4)),u=a(11),l=(a(40),a(6)),i=a.n(l),b=a(1);function m(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(s.a)(a,2),c=r[0],o=r[1];return Object(b.jsx)("header",{className:i.a.Searchbar,children:Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==c.trim()?(t(c),o("")):u.b.error("Enter what to look for")},className:i.a.SearchForm,children:[Object(b.jsx)("button",{type:"submit",className:i.a.SearchFormButton,children:Object(b.jsx)("span",{className:i.a.SearchFormButtonLabel,children:"Search"})}),Object(b.jsx)("input",{className:i.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,onChange:function(e){o(e.currentTarget.value.toLowerCase())},placeholder:"Search images and photos"})]})})}var j=a(19),h=a(15),d=a.n(h),f=a(28),O=a(12),g=a.n(O);g.a.defaults.baseURL="https://pixabay.com/api";g.a.defaults.params={key:"23504459-8998d3c986a45c76e9c9f5239"};var p=function(){var e=Object(f.a)(d.a.mark((function e(t){var a,n,r,c=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:1,e.prev=1,e.next=4,g.a.get("/?q=".concat(t,"&page=").concat(a,"&image_type=photo&orientation=horizontal&per_page=12"));case 4:return n=e.sent,r=n.data,e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:return e.prev=12,e.finish(12);case 14:case"end":return e.stop()}}),e,null,[[1,9,12,14]])})));return function(t){return e.apply(this,arguments)}}(),x=a(16),_=a.n(x),v=function(e){var t=e.webformatURL,a=e.tags,n=e.onClick;return Object(b.jsx)("li",{className:_.a.ImageGalleryItem,onClick:n,children:Object(b.jsx)("img",{src:t,alt:a,className:_.a.ImageGalleryItemImage})})},S=a(17),y=a.n(S),I=function(e){var t=e.onLoad;return Object(b.jsx)("div",{className:y.a.box,children:Object(b.jsx)("button",{className:y.a.Button,type:"button",onClick:t,children:"Load more"})})},w=a(29),F=a(30),L=a(34),k=a(33),N=(a(61),a(31)),B=a.n(N),G=a(32),C=a.n(G),E=function(e){Object(L.a)(a,e);var t=Object(k.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(F.a)(a,[{key:"render",value:function(){return Object(b.jsx)("div",{className:B.a.box,children:Object(b.jsx)(C.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})})}}]),a}(n.Component),M=a(18),U=a.n(M),R=document.querySelector("#modal-root");function P(e){var t=e.onClose,a=e.image;Object(n.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);return Object(c.createPortal)(Object(b.jsx)("div",{className:U.a.Overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(b.jsx)("div",{className:U.a.Modal,children:Object(b.jsx)("img",{src:a.largeImageURL,alt:a.tags})})}),R)}var J=a(13),T=a.n(J);function q(e){var t=e.findImage,a=e.onLoad,r=e.page,c=Object(n.useState)([]),o=Object(s.a)(c,2),u=o[0],l=o[1],i=Object(n.useState)(null),m=Object(s.a)(i,2),h=m[0],d=m[1],f=Object(n.useState)(null),O=Object(s.a)(f,2),g=O[0],x=O[1],_=Object(n.useState)(null),S=Object(s.a)(_,2),y=S[0],w=S[1],F=Object(n.useState)(!1),L=Object(s.a)(F,2),k=L[0],N=L[1];Object(n.useEffect)((function(){t&&(1===r&&l([]),x(!0),p(t,r).then((function(e){return l((function(t){return[].concat(Object(j.a)(t),Object(j.a)(e.hits))}))}),x(!1)).then((function(){1!==r&&B()})).catch((function(e){return d(e)}),x(!1)))}),[t,r]);var B=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};return g?Object(b.jsx)(E,{}):k?Object(b.jsx)(P,{onClose:function(){N(!k)},image:u[y]}):h?Object(b.jsx)("div",{className:T.a.box,children:h.message}):0!==u.length||h?u.length>0?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("ul",{className:T.a.ImageGallery,children:u.map((function(e,t){return Object(b.jsx)(v,{webformatURL:e.webformatURL,type:e.type,onClick:function(){!function(e){w(e),N(!0)}(t)}},e.id)}))}),Object(b.jsx)(I,{onLoad:a})]}):void 0:Object(b.jsx)("div",{className:T.a.box,children:"Start your search"})}function K(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(1),o=Object(s.a)(c,2),l=o[0],i=o[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(m,{onSubmit:function(e){r(e),i(1)}}),Object(b.jsx)(q,{findImage:a,onLoad:function(){i((function(e){return e+1}))},page:l}),Object(b.jsx)(u.a,{})]})}o.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(K,{})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.8de363b2.chunk.js.map